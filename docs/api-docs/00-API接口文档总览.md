# AngusGM 全局管理平台 - API接口文档总览

## 文档说明

本文档基于AngusGM全局管理平台前端Figma设计反向推导生成，提供完整的后端API接口规范，可直接用于指导后端开发。

---

## 文档结构

本API文档按功能模块划分，共包含以下22个模块的接口文档：

### 1. 认证授权模块
**文档**: `01-认证授权模块接口文档.md`
**功能**: 用户登录、注册、密码找回、第三方登录
**核心接口**:
- 账号密码登录
- 短信/邮箱验证码登录
- 第三方登录（微信、Github、Google）
- 短信/邮箱注册
- 找回密码
- Token刷新与退出

---

### 2. 租户管理模块
**文档**: `02-租户管理模块接口文档.md`
**功能**: 租户的增删改查、配置管理、使用统计
**核心接口**:
- 租户列表（分页）
- 创建/更新/删除租户
- 租户配置管理
- 租户使用统计
- 启用/禁用租户

---

### 3. 用户管理模块
**文档**: `03-用户管理模块接口文档.md`
**功能**: 用户的增删改查、邀请、锁定/解锁、重置密码
**核心接口**:
- 用户列表（分页）
- 创建/更新/删除用户
- 用户邀请管理
- 重置密码
- 锁定/解锁用户
- 启用/禁用用户

---

### 4. 部门管理模块
**文档**: `04-部门管理模块接口文档.md`
**功能**: 部门的增删改查、树形结构管理、成员管理
**核心接口**:
- 部门树形结构
- 部门列表（分页）
- 创建/更新/删除部门
- 部门成员管理
- 设置部门负责人
- 成员转移

---

### 5. 组管理模块
**文档**: `05-组管理模块接口文档.md`
**功能**: 组的增删改查、成员管理
**核心接口**:
- 组列表（分页）
- 创建/更新/删除组
- 组成员管理
- 设置组负责人
- 归档/激活组

---

### 6. 应用管理模块
**文档**: `06-应用管理模块接口文档.md`
**功能**: 应用的增删改查、菜单管理、标签管理
**核心接口**:
- 应用列表（分页）
- 创建/更新/删除应用
- 应用菜单管理
- 菜单排序
- 启用/禁用应用

---

### 7. 服务管理模块
**文档**: `07-服务管理模块接口文档.md`
**功能**: 微服务实例管理、健康检查、Eureka配置
**核心接口**:
- 服务列表
- 服务实例详情
- 健康状态检查
- 刷新服务列表
- Eureka配置管理
- 下线服务实例

---

### 8. 接口管理模块
**文档**: `08-接口管理模块接口文档.md`
**功能**: API接口文档管理、接口同步、接口查询
**核心接口**:
- 接口列表（分页）
- 接口详情
- 同步服务接口
- 按标签查询接口
- 标记接口为废弃
- 接口调用统计

---

### 9. 标签管理模块
**文档**: `09-标签管理模块接口文档.md`
**功能**: 标签的增删改查、应用标签关联
**核心接口**:
- 标签列表（分页）
- 创建/更新/删除标签
- 获取所有标签

---

### 10. 权限策略模块
**文档**: `10-权限策略模块接口文档.md`
**功能**: 角色的增删改查、权限配置、用户分配
**核心接口**:
- 角色列表（分页）
- 创建/更新/删除角色
- 角色权限配置
- 角色用户列表
- 设置默认角色
- 获取可用权限资源

---

### 11. 授权管理模块
**文档**: `11-授权管理模块接口文档.md`
**功能**: 用户/部门/组的角色授权管理
**核心接口**:
- 授权记录列表（分页）
- 用户/部门/组授权列表
- 创建/更新/删除授权
- 批量授权
- 添加/移除角色

---

### 12. 消息通知模块
**文档**: `12-消息通知模块接口文档.md`
**功能**: 系统通知的查看、管理、通知配置
**核心接口**:
- 通知列表（分页）
- 标记已读/收藏/归档
- 删除通知
- 通知渠道管理
- 通知规则管理
- 通知历史
- 测试通知渠道

---

### 13. 备份恢复模块
**文档**: `13-备份恢复模块接口文档.md`
**功能**: 系统备份、恢复、备份计划管理
**核心接口**:
- 备份记录列表（分页）
- 创建备份
- 恢复备份
- 下载备份文件
- 备份计划管理
- 启用/禁用备份计划
- 立即执行备份

---

### 14. 短信消息模块
**文档**: `14-短信消息模块接口文档.md`
**功能**: 短信消息的发送、管理、模板配置
**核心接口**:
- 短信模板列表（分页）
- 创建/更新/删除短信模板
- 发送短信
- 短信发送记录
- 短信发送统计

---

### 15. 电子邮件模块
**文档**: `15-电子邮件模块接口文档.md`
**功能**: 电子邮件的发送、管理、模板配置
**核心接口**:
- 电子邮件模板列表（分页）
- 创建/更新/删除电子邮件模板
- 发送电子邮件
- 电子邮件发送记录
- 电子邮件发送统计

---

### 16. 安全设置模块
**文档**: `16-安全设置模块接口文档.md`
**功能**: 系统安全设置、密码策略、登录策略
**核心接口**:
- 密码策略配置
- 登录策略配置
- 两步验证配置
- 安全设置记录
- 安全设置统计

---

### 17. 系统监控模块
**文档**: `17-系统监控模块接口文档.md`
**功能**: 系统性能监控、资源使用监控、日志监控
**核心接口**:
- 系统性能监控数据
- 资源使用监控数据
- 系统日志监控数据
- 监控报警配置
- 监控报警记录

---

### 18. 接口监控模块
**文档**: `18-接口监控模块接口文档.md`
**功能**: API接口性能监控、调用统计、错误统计
**核心接口**:
- 接口性能监控数据
- 接口调用统计
- 接口错误统计
- 接口监控报警配置
- 接口监控报警记录

---

### 19. LDAP集成模块
**文档**: `19-LDAP集成模块接口文档.md`
**功能**: LDAP用户同步、组同步、权限同步
**核心接口**:
- LDAP用户同步配置
- LDAP组同步配置
- LDAP权限同步配置
- LDAP同步记录
- LDAP同步统计

---

### 20. 资源配额模块
**文档**: `20-资源配额模块接口文档.md`
**功能**: 系统资源配额管理、配额使用统计
**核心接口**:
- 资源配额配置
- 资源配额使用统计
- 资源配额监控数据
- 配额报警配置
- 配额报警记录

---

### 21. 审计日志模块
**文档**: `21-审计日志模块接口文档.md`
**功能**: 系统操作审计日志、用户操作审计日志
**核心接口**:
- 系统操作审计日志
- 用户操作审计日志
- 审计日志查询
- 审计日志统计
- 审计日志导出

---

### 22. 系统版本模块
**文档**: `22-系统版本模块接口文档.md`
**功能**: 系统版本管理、版本更新、版本回滚
**核心接口**:
- 系统版本列表
- 创建/更新/删除系统版本
- 版本更新记录
- 版本回滚记录
- 版本更新统计

---

## 通用规范

### 基础路径
```
Base URL: https://api.angusgm.com/api/v1
```

### 通用请求头
```http
Authorization: Bearer {access_token}
Content-Type: application/json
X-Tenant-Id: {tenant_id}
```

### 通用响应结构

#### 成功响应（有数据）
```json
{
  "code": "S",
  "message": "成功",
  "data": {},
  "timestamp": "1763958969885",
  "extensions": {}
}
```

#### 成功响应（无数据）
```json
{
  "code": "S",
  "message": "成功",
  "data": null,
  "timestamp": "1763958969885",
  "extensions": {}
}
```

#### 删除操作响应
删除操作统一返回HTTP 204 No Content，无响应体。

#### 错误响应
```json
{
  "code": "E",
  "message": "错误信息",
  "data": null,
  "timestamp": "1763958969885",
  "extensions": {
    "errorCode": "USER_NOT_FOUND",
    "details": []
  }
}
```

### 分页响应结构
```json
{
  "code": "S",
  "message": "成功",
  "data": {
    "total": "100",
    "list": []
  },
  "timestamp": "1763958969885",
  "extensions": {}
}
```

### 审计字段说明
所有实体都包含以下审计字段：
- `tenantId`: 租户ID
- `createdBy`: 创建人ID
- `creator`: 创建人姓名
- `createdDate`: 创建时间（格式：yyyy-MM-dd HH:mm:ss）
- `modifiedBy`: 修改人ID
- `modifier`: 修改人姓名
- `modifiedDate`: 修改时间（格式：yyyy-MM-dd HH:mm:ss）

---

## 接口统计

| 模块 | 接口数量 | 文档路径 |
|------|---------|----------|
| 认证授权 | 14 | 01-认证授权模块接口文档.md |
| 租户管理 | 10 | 02-租户管理模块接口文档.md |
| 用户管理 | 17 | 03-用户管理模块接口文档.md |
| 部门管理 | 15 | 04-部门管理模块接口文档.md |
| 组管理 | 13 | 05-组管理模块接口文档.md |
| 应用管理 | 13 | 06-应用管理模块接口文档.md |
| 服务管理 | 10 | 07-服务管理模块接口文档.md |
| 接口管理 | 10 | 08-接口管理模块接口文档.md |
| 标签管理 | 6 | 09-标签管理模块接口文档.md |
| 权限策略 | 11 | 10-权限策略模块接口文档.md |
| 授权管理 | 13 | 11-授权管理模块接口文档.md |
| 消息通知 | 18 | 12-消息通知模块接口文档.md |
| 备份恢复 | 14 | 13-备份恢复模块接口文档.md |
| 短信消息 | 12 | 14-短信消息模块接口文档.md |
| 电子邮件 | 14 | 15-电子邮件模块接口文档.md |
| 安全设置 | 16 | 16-安全设置模块接口文档.md |
| 系统监控 | 14 | 17-系统监控模块接口文档.md |
| 接口监控 | 12 | 18-接口监控模块接口文档.md |
| LDAP集成 | 12 | 19-LDAP集成模块接口文档.md |
| 资源配额 | 11 | 20-资源配额模块接口文档.md |
| 审计日志 | 12 | 21-审计日志模块接口文档.md |
| 系统版本 | 10 | 22-系统版本模块接口文档.md |
| **合计** | **257** | **22个文档** |

---

## HTTP状态码说明

| 状态码 | 说明 |
|--------|------|
| 200 | 成功 |
| 201 | 创建成功 |
| 204 | 删除成功（无响应体） |
| 400 | 请求参数错误 |
| 401 | 未授权 |
| 403 | 无权限 |
| 404 | 资源不存在 |
| 409 | 资源冲突 |
| 500 | 服务器错误 |

---

## 数据类型说明

| 类型 | 说明 | 示例 |
|------|------|------|
| string | 字符串 | "AngusGM" |
| integer | 整数 | 100 |
| number | 数字（含小数） | 99.99 |
| boolean | 布尔值 | true / false |
| array | 数组 | ["tag1", "tag2"] |
| object | 对象 | {"key": "value"} |
| date | 日期 | "2025-12-19" |
| datetime | 日期时间 | "2025-12-19 10:30:00" |

---

## 版本信息

| 项目 | 信息 |
|------|------|
| API版本 | v1 |
| 文档版本 | 1.0.0 |
| 生成日期 | 2025-12-19 |
| 适用系统 | AngusGM全局管理平台 |

---

## 开发建议

1. **接口命名**: 遵循RESTful规范，使用复数名词
2. **HTTP方法**: GET查询、POST创建、PUT更新、DELETE删除、PATCH部分更新
3. **响应格式**: 统一使用JSON格式
4. **错误处理**: 返回明确的错误码和错误信息
5. **安全性**: 所有接口需要Token认证（除登录、注册等公开接口）
6. **分页**: 统一使用page/size参数，从1开始
7. **时间格式**: 统一使用"yyyy-MM-dd HH:mm:ss"格式
8. **审计字段**: 所有实体必须包含审计字段
9. **软删除**: 建议使用软删除，保留deleted标识
10. **事务**: 涉及多表操作的接口需要保证事务一致性

---

## 联系方式

如有疑问，请联系：
- 项目负责人：柳小龙
- 邮箱：liuxiaolong@angusgm.com
- 文档地址：https://docs.angusgm.com/api