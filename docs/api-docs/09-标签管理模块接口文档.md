# 标签管理模块 - 后端API接口文档

## 基础信息
- **模块名称**: 标签管理
- **模块路径**: `/api/v1/tags`
- **负责功能**: 标签的增删改查、应用标签关联

---

## 接口列表

### 1. 获取标签列表（分页）
**接口地址**: `GET /api/v1/tags`

**查询参数**:
- `page`: 页码，默认1
- `size`: 每页大小，默认10
- `keyword`: 搜索关键词（名称、描述）
- `isSystem`: 是否系统标签

**响应数据**:
```json
{
  "code": "S",
  "message": "成功",
  "data": {
    "total": "15",
    "list": [
      {
        "tenantId": "1",
        "createdBy": "1000001",
        "creator": "系统",
        "createdDate": "2024-11-15 10:30:00",
        "modifiedBy": "1000001",
        "modifier": "系统",
        "modifiedDate": "2024-11-15 10:30:00",
        "id": "1",
        "name": "HEADER_MENU_POPOVER",
        "description": "头部菜单自定义下拉菜单",
        "isSystem": true,
        "usageCount": 3
      },
      {
        "tenantId": "1",
        "createdBy": "1000001",
        "creator": "系统",
        "createdDate": "2024-11-16 09:20:00",
        "modifiedBy": "1000001",
        "modifier": "系统",
        "modifiedDate": "2024-11-16 09:20:00",
        "id": "2",
        "name": "DYNAMIC_POSITION",
        "description": "标识动态位置显示功能",
        "isSystem": true,
        "usageCount": 5
      }
    ]
  },
  "timestamp": "1763958969885",
  "extensions": {}
}
```

---

### 2. 创建标签
**接口地址**: `POST /api/v1/tags`

**请求参数**:
```json
{
  "name": "CUSTOM_TAG",
  "description": "自定义标签描述"
}
```

**响应数据**:
```json
{
  "code": "S",
  "message": "创建成功",
  "data": {
    "tenantId": "1",
    "createdBy": "1000001",
    "creator": "柳小龙",
    "createdDate": "2025-12-19 10:30:00",
    "modifiedBy": "1000001",
    "modifier": "柳小龙",
    "modifiedDate": "2025-12-19 10:30:00",
    "id": "100",
    "name": "CUSTOM_TAG",
    "description": "自定义标签描述",
    "isSystem": false,
    "usageCount": 0
  },
  "timestamp": "1763958969885",
  "extensions": {}
}
```

---

### 3. 获取标签详情
**接口地址**: `GET /api/v1/tags/{id}`

**路径参数**:
- `id`: 标签ID

**响应数据**:
```json
{
  "code": "S",
  "message": "成功",
  "data": {
    "tenantId": "1",
    "createdBy": "1000001",
    "creator": "系统",
    "createdDate": "2024-11-15 10:30:00",
    "modifiedBy": "1000001",
    "modifier": "系统",
    "modifiedDate": "2024-11-15 10:30:00",
    "id": "1",
    "name": "HEADER_MENU_POPOVER",
    "description": "头部菜单自定义下拉菜单",
    "isSystem": true,
    "usageCount": 3,
    "applications": [
      {
        "id": "100002",
        "name": "AngusGM"
      },
      {
        "id": "100003",
        "name": "AngusAI"
      }
    ]
  },
  "timestamp": "1763958969885",
  "extensions": {}
}
```

---

### 4. 更新标签
**接口地址**: `PUT /api/v1/tags/{id}`

**路径参数**:
- `id`: 标签ID

**请求参数**:
```json
{
  "name": "UPDATED_TAG",
  "description": "更新后的标签描述"
}
```

**响应数据**: 同创建标签（返回完整标签信息）

---

### 5. 删除标签
**接口地址**: `DELETE /api/v1/tags/{id}`

**路径参数**:
- `id`: 标签ID

**响应**: HTTP 204 No Content（无响应体）

---

### 6. 获取所有标签（不分页）
**接口地址**: `GET /api/v1/tags/all`

**响应数据**:
```json
{
  "code": "S",
  "message": "成功",
  "data": [
    {
      "id": "1",
      "name": "HEADER_MENU_POPOVER",
      "description": "头部菜单自定义下拉菜单",
      "isSystem": true
    },
    {
      "id": "2",
      "name": "DYNAMIC_POSITION",
      "description": "标识动态位置显示功能",
      "isSystem": true
    }
  ],
  "timestamp": "1763958969885",
  "extensions": {}
}
```

---

## 错误码说明

| 错误码 | 说明 |
|--------|------|
| TAG_001 | 标签名称已存在 |
| TAG_002 | 标签不存在 |
| TAG_003 | 系统标签不能删除 |
| TAG_004 | 标签正在使用中，无法删除 |
