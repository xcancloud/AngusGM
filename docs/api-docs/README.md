# AngusGM 全局管理平台 - 后端API接口文档

## 📋 文档简介

本文档集是基于AngusGM全局管理平台的Figma前端设计，通过反向工程推导出的完整后端API接口规范。文档详尽、结构化，可直接用于指导后端开发团队进行接口开发。

## 🎯 文档特点

- ✅ **完整性**: 涵盖13个核心功能模块，共164个API接口
- ✅ **规范性**: 遵循RESTful API设计规范
- ✅ **实用性**: 包含完整的请求/响应示例
- ✅ **可读性**: 按模块独立成文档，便于查阅
- ✅ **一致性**: 统一的数据结构和审计字段规范

## 📚 文档目录

### 总览文档
- [00-API接口文档总览.md](./00-API接口文档总览.md) - 所有模块概览和通用规范

### 模块文档（按菜单顺序）

#### 认证模块
- [01-认证授权模块接口文档.md](./01-认证授权模块接口文档.md) - 登录、注册、找回密码

#### 租户管理
- [02-租户管理模块接口文档.md](./02-租户管理模块接口文档.md) - 租户CRUD、配置、统计

#### 组织人员
- [03-用户管理模块接口文档.md](./03-用户管理模块接口文档.md) - 用户管理、邀请、权限
- [04-部门管理模块接口文档.md](./04-部门管理模块接口文档.md) - 部门树形结构、成员管理
- [05-组管理模块接口文档.md](./05-组管理模块接口文档.md) - 项目组、职能组管理

#### 应用服务
- [06-应用管理模块接口文档.md](./06-应用管理模块接口文档.md) - 应用CRUD、菜单管理
- [07-服务管理模块接口文档.md](./07-服务管理模块接口文档.md) - 微服务实例、Eureka配置
- [08-接口管理模块接口文档.md](./08-接口管理模块接口文档.md) - API文档同步、查询
- [09-标签管理模块接口文档.md](./09-标签管理模块接口文档.md) - 标签CRUD

#### 用户权限
- [10-权限策略模块接口文档.md](./10-权限策略模块接口文档.md) - 角色管理、权限配置
- [11-授权管理模块接口文档.md](./11-授权管理模块接口文档.md) - 用户/部门/组授权

#### 系统消息
- [12-消息通知模块接口文档.md](./12-消息通知模块接口文档.md) - 通知中心、渠道配置
- [13-邮件管理模块接口文档.md](./13-邮件管理模块接口文档.md) - 邮件模板、发送记录
- [14-短信管理模块接口文档.md](./14-短信管理模块接口文档.md) - 短信模板、发送记录

#### 安全设置
- [15-安全设置模块接口文档.md](./15-安全设置模块接口文档.md) - 安全策略、日志审计

#### 系统管理
- [16-备份恢复模块接口文档.md](./16-备份恢复模块接口文档.md) - 备份、恢复、计划任务
- [17-系统配置模块接口文档.md](./17-系统配置模块接口文档.md) - 系统参数、配置管理
- [18-日志管理模块接口文档.md](./18-日志管理模块接口文档.md) - 系统日志、操作记录
- [19-监控管理模块接口文档.md](./19-监控管理模块接口文档.md) - 系统监控、性能分析
- [20-任务调度模块接口文档.md](./20-任务调度模块接口文档.md) - 定时任务、调度管理
- [21-数据字典模块接口文档.md](./21-数据字典模块接口文档.md) - 数据字典、枚举管理
- [22-系统升级模块接口文档.md](./22-系统升级模块接口文档.md) - 系统升级、版本管理

## 🔧 快速开始

### 1. 查看总览文档
首先阅读 [00-API接口文档总览.md](./00-API接口文档总览.md)，了解：
- 通用规范
- 响应结构
- 审计字段
- 错误码

### 2. 选择模块文档
根据开发任务，选择对应的模块文档查看详细接口定义。

### 3. 接口示例
每个接口都包含：
- 接口地址和HTTP方法
- 请求参数示例（JSON格式）
- 完整响应示例
- 错误码说明

## 📊 接口统计

| 模块类别 | 模块数 | 接口总数 |
|---------|--------|----------|
| 认证授权 | 1 | 14 |
| 租户管理 | 1 | 10 |
| 组织人员 | 3 | 45 |
| 应用服务 | 4 | 39 |
| 用户权限 | 2 | 24 |
| 系统消息 | 3 | 44 |
| 安全设置 | 1 | 16 |
| 系统管理 | 7 | 65 |
| **合计** | **22** | **257** |

## 🌟 核心规范

### 请求规范
```http
POST /api/v1/users
Authorization: Bearer {access_token}
Content-Type: application/json
X-Tenant-Id: {tenant_id}

{
  "name": "张三",
  "email": "zhangsan@example.com"
}
```

### 成功响应
```json
{
  "code": "S",
  "message": "成功",
  "data": {
    "id": "U001",
    "name": "张三",
    "email": "zhangsan@example.com",
    "tenantId": "1",
    "createdBy": "1000001",
    "creator": "管理员",
    "createdDate": "2025-12-19 10:30:00",
    "modifiedBy": "1000001",
    "modifier": "管理员",
    "modifiedDate": "2025-12-19 10:30:00"
  },
  "timestamp": "1763958969885",
  "extensions": {}
}
```

### 分页响应
```json
{
  "code": "S",
  "message": "成功",
  "data": {
    "total": "100",
    "list": [...]
  },
  "timestamp": "1763958969885",
  "extensions": {}
}
```

### 删除响应
HTTP 204 No Content（无响应体）

## ⚠️ 重要约定

### 1. 创建/修改接口
- ✅ 必须返回完整的实体数据
- ✅ 包含所有审计字段
- ✅ HTTP状态码：200（更新）或 201（创建）

### 2. 删除接口
- ✅ 返回HTTP 204 No Content
- ✅ 无响应体
- ✅ 建议使用软删除

### 3. 审计字段
所有实体必须包含：
- `tenantId`: 租户ID
- `createdBy`: 创建人ID
- `creator`: 创建人姓名
- `createdDate`: 创建时间（yyyy-MM-dd HH:mm:ss）
- `modifiedBy`: 修改人ID
- `modifier`: 修改人姓名
- `modifiedDate`: 修改时间（yyyy-MM-dd HH:mm:ss）

### 4. 分页参数
- `page`: 页码，从1开始
- `size`: 每页大小，默认10
- `total`: 总记录数（字符串类型）

## 💡 开发建议

1. **接口开发顺序建议**：
   - 第一阶段：认证授权 → 租户管理 → 用户管理
   - 第二阶段：部门管理 → 组管理 → 权限策略
   - 第三阶段：应用管理 → 授权管理
   - 第四阶段：其他模块

2. **数据库设计**：
   - 所有表必须包含审计字段
   - 建议使用软删除（is_deleted字段）
   - 主键建议使用雪花算法生成的Long型ID

3. **安全性**：
   - 所有接口需要Token认证（除登录、注册等）
   - 敏感操作需要二次验证
   - 密码需要加密存储

4. **性能优化**：
   - 分页查询使用索引
   - 树形结构查询考虑缓存
   - 大数据量导出使用异步任务

## 📝 更新日志

### v1.0.0 (2025-12-19)
- ✅ 初始版本发布
- ✅ 完成13个模块共164个接口文档
- ✅ 基于Figma设计反向推导生成

## 🤝 贡献指南

如需更新或补充接口文档，请：
1. 保持与现有文档的格式一致
2. 遵循RESTful规范
3. 包含完整的请求/响应示例
4. 更新总览文档中的统计信息

## 📮 联系方式

- **项目负责人**: 柳小龙
- **邮箱**: liuxiaolong@angusgm.com
- **文档地址**: https://docs.angusgm.com/api

## 📄 许可证

本文档仅供AngusGM项目内部使用，未经授权不得外传。

---

**最后更新**: 2025-12-19  
**文档版本**: v1.0.0  
**适用系统**: AngusGM全局管理平台